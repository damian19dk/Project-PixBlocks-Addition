<div *ngIf="video" class="container-fluid">
  <div *ngIf="error" class="alert alert-danger">
    {{error}}
  </div>

  <h1 *ngIf="courseDocument" class="header padded-left">{{courseDocument.title}}</h1>
  <h5 *ngIf="videoDocument" class="header padded-left">{{videoDocument.title}}</h5>

  <div class="row">

    <div *ngIf="videoDocument" class="col-7">

      <div class="row">
        <div class="col-12">
          <div class="embed-responsive embed-responsive-16by9 " id="video-field">
            <iframe [src]="video.link | safe" allowfullscreen="allowfullscreen"
                    class="embed-responsive-item justify-content-md-center"
                    id="video" mozallowfullscreen="mozallowfullscreen"
                    msallowfullscreen="msallowfullscreen" oallowfullscreen="oallowfullscreen"
                    webkitallowfullscreen="webkitallowfullscreen">
            </iframe>
          </div>
          <button class="btn">Start</button>
        </div>
      </div>

      <div class="row justify-content-between">
        <div class="col-4 justify-content-center">
          <div class="col-12 text-center">
            <span ngbTooltip="Tagi" placement="left"><i class="fas fa-tags fa-2x"></i></span>
          </div>

          <div class="col-12 text-center">
            <ng-container>
              <span *ngFor="let tag of videoDocument.tags" class="badge badge-dark">{{tag}}</span>
            </ng-container>
          </div>
        </div>

        <div class="col-4 justify-content-center">
          <div class="col-12 text-center">
            <span ngbTooltip="Czas trwania" placement="left"><i class="fas fa-clock fa-2x"></i></span>
          </div>

          <div class="col-12 text-center">
            <span class="font-weight-bold">{{videoDocument.duration * 1000 | date:'H:mm:ss':'UTC'}}</span>
          </div>
        </div>

        <div class="col-4 justify-content-center">
          <div class="col-12 text-center">
            <span ngbTooltip="Język" placement="left"><i class="fas fa-language fa-2x"></i></span>
          </div>

          <div class="col-12 text-center">
            <span class="font-weight-bold">
              {{videoDocument.language == null ? 'Brak informacji' : videoDocument.language}}
            </span>
          </div>
        </div>

        <br>
        <div class="row col-12 text-justify border-top video-description">
          <div class="text-justify" ngbTooltip="Opis" placement="left">
            {{videoDocument.description}}
          </div>
        </div>
      </div>

      <app-video-quiz></app-video-quiz>

    </div>


    <div *ngIf="courseDocument" class="col">
      <h4 class="header">Playlista:</h4>

      <div class="scroll list-group">
        <a *ngFor="let courseVideo of courseDocument.courseVideos"
           [ngClass]="courseVideo.mediaId === videoDocument.mediaId ? 'bg-video' : null"
           class="list-group-item list-group-item-action flex-column align-items-start"
           routerLink="/courses/{{courseDocument.id}}/videos/{{courseVideo.mediaId}}">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{courseVideo.title}}</h5>
          </div>
          <p class="mb-1">{{courseVideo.description | shortText}}</p>
          <small>{{courseVideo.duration * 1000 | date:'H:mm:ss':'UTC'}}</small>
        </a>

      </div>
    </div>
  </div>

  <div class="row justify-content-center">
    <h3 class="header">Zobacz też:</h3>
  </div>
</div>
<section class="card2">
  <app-courses-view></app-courses-view>
</section>


