<div class="row title">
  <h2 i18n class="display-4">Dodaj quiz</h2>
</div>
<div class="row">
  <div class="col-6">
    <div *ngIf="sent && error" class="alert alert-danger">
      {{error}}
    </div>
    <div *ngIf="sent && !error" class="alert alert-success" i18n>
      Quiz dodano pomy≈õlnie
    </div>

    <form (submit)="handleSubmit($event)" [formGroup]="quizForm">
      <div formArrayName="questions">
        <div *ngFor="let question of quizQuestionsControls; let questionIndex = index">
          <app-quiz-question
            (onDeleteQuestion)="onDeleteQuestion($event)"
            [quizQuestionForm]="question"
            [quizQuestionIndex]="questionIndex"
          ></app-quiz-question>
          <hr/>
        </div>
      </div>
      <button (click)="newQuizQuestion()" [class.spinner]="loading" color="primary" mat-raised-button type="button">
        Dodaj pytanie
      </button>
      <hr/>

      <input
        *ngIf="!shouldUpdateQuizOnSubmit()"
        [(ngModel)]="typeaheadVideo"
        [inputFormatter]="formatter"
        [ngbTypeahead]="search"
        [resultTemplate]="rt"
        class="form-control empty d-inline-flex align-self-center w-100"
        formControlName="mediaId"
        i18n-placeholder
        placeholder="Szukaj video"
        type="text"
      />

      <button [disabled]="!quizForm.valid" class="saveVideo" color="primary" mat-raised-button type="submit">Zapisz
      </button>

      <ng-template #rt let-r="result" let-t="term">
        <div placement="right">
          <ngb-highlight [result]="r.title" [term]="t" class="mr-2"></ngb-highlight>
          <span *ngFor="let tag of r.tags" class="badge badge-info ml-2">{{tag}}</span>
        </div>
      </ng-template>
    </form>
  </div>
  <div class="col-6">
    <img class="img-fluid" src="assets/svg/undraw_online_test_gba7.svg">
  </div>
</div>







